OpenHRP3 改版リスト (リリースノート)

Ver.3.1.9
=========================
・ OpenRTM-aist 1.1.2, 1.2.0, trunk 対応しました

・ ARM64 対応しました

・ Ubuntu 16.04 対応しました

・ Boost 1.34.0 対応しました

・ clang  対応しました

・ python stub のレイアウトを変更しました

・ コンパイル時のワーニングを無くしました

・ hrplib/hrpModel : World::numBodies(),numXXX() の返り値を int から unsigned int に変更しました

・ hrplib/hrpModel : calcCMJacobian() で　Link:SLIDE_JOINT　をサポートしました

・ hrplib/hrpModel : calcInverseKinematics のバグを修正しました

・ hrplib/hrpModel : PROTO Surfaceのあるモデルが読み込めないバグの修正しました

・ hrplib/hrpPlanner : ツリーの間に接続を追加できるように変更しました

・ hrplib/hrpPlanner : Algorithm::ignoreCollisionAtStart() Algorithm::ignoreCollisionAtGoal() を追加しました．

・ hrplib/hrpPlanner : バグの修正．R の代わりに attitude() を利用するようにしました

・ hrplib/hrpCollision : CreateSSV() を変更しゼロ除算が起こらないようにしました

・ hrplib/hrpCollision : 隣接する三角形の判断を修正

・ hrplib/hrpUtil : TriangleMeshShaper.cpp: NaN にならないように値をチェックするようにしました

・ hrplib/hrpUtil : ModelNodeSet.h,BodyInfo_impl.cpp: aligned allocator を利用するようにしました．

・ hrplib/hrpUtil : 角運動量ヤコビアンを計算する関数calcAngularMomentum(), 運動量ヤコビアンと角運動量ヤコビアンを使って重心周りの運動量と角運動量を計算する関数calcTotalMomentumFromJacobian() を追加しました

・ hrplib/hrpUtil : Eigen3d.cpp,testEigen3d.cpp: 浮動小数点エラーを修正しました

・ hrplib/hrpUtil : google test で Eigen3d.cpp をテストしました．

・ server/ModelLoader : ColladaWriter.h: base link と effector links が存在することを確認するようにしました

・ server/ModelLoader : exportCollada.cpp manipulator を collada ファイルに追加すある時のヘルプ情報を追加しました

・ server/ModelLoader : BodyInfo_impl.cpp: デフォルトの重量プロパティをセットするようにしました．

・ server/ModelLoader : projectGenerator.cpp: ルートリンクの実際の位置姿勢を出力するポートを追加しました

・ server/ModelLoader : projectGenerator.cpp: integration method (EULER, RUNGE_KUTTAなど)を設定できるようにする引数を追加しました

・ server/ModelLoader : projectGenerator.cpp: projectGenerator.cpp: outport:dq をプロジェクトファイルに出力するようにしました．

・ server/ModelLoader : ModelLoader_impl.cpp: ModelLoader を collada 無しでもコンパイルできるようにしました

・ server/ModelLoader : ModelLoader_impl.cpp: ModelLoader 内で PROJECT_DIR を展開するようにしました

・ server/ModelLoader : ColladaWriter.h: 32bitOSでshapeが多いときにcolladaの書き出し時にsegfaultするので、shapeへのアクセスを減らしました

・ server/ModelLoader : README.md: README.md に projectGenerator のオプションや例を追科しました

・ sample : sample1_bush.wrl に手のBushを追加しました

・ sample : sample_special_joint_robot.wrl:  脚が６自由度以上だったり、つま先がついていたり、特殊な関節のテスト用のサンプルロボットを追加しました。

・ sample : sample_4leg_robot*.wrl: ４脚ロボットのモデルを追加しました

・ sample : sample1_bush.wrl, example/customizer:: sample1 モデルにBushとBush Customizerを追加しました


Ver.3.1.8
=========================
・ sample/model/sample1.wrl　でimuの座標系を変更しました．

・ hrplib/hrpModel/ForwardDynamics.cpp で accel sensor frame を変更しました．https://github.com/fkanehiro/hrpsys-base/issues/472

・ modelloader / projectGenerator openhrp-project-generator を hrpsysから移行しました．

・ export-colladaをopenhrp-export-colladaに名前を変えました

・ export-vrml　に --use-inline-shape を追加しました

・ Eigen3d.h で閾値を1.0e-12 にしました．(1.0e-6から変更)

・ hrplib/hrpUtil/MatrixSolvers calcSRInverseを追加しました．

・ BodyInfoCollada_impl.cpp   joint axis のパースを変更しました．

・ catkin build 対応

・ .travis.yml の更新

・ ppa repository の追加

・ share へのシンボリックリンクの追加（後方互換のため)kr share directory for backword compatibility

・ openrtm-aist から openrtm-aist-dev への変更．collada-dom-dev　の追加

・ PPA repositoryの変更

・ 環境変数"_"が定義されていない時の対応

・ ubuntu trustyへの対応

・ python stub のインストール場所の変更に対するたい対応 (fixes #36)

・ python stub のインストール場所の変更 (fixes #36)


Ver.3.1.7
=========================
・catkinでコンパイルできるようpackage.xmlの追加とCMakeLists.txtの改変を行いました．

・java用IDLコンパイルをデフォルトでオフにしました．

・pyton用IDLコンパイルをデフォルトでオンにしました．

・コンパイル時にwrlファイルをCOLLADAフアイルに変換するようにしました．

・sample3dofロボットモデルを追加しました

・.travis.ymlファイルを追加しました

・PDコントローラのサーボゲインを修正しました

・CollisionDetector::colldingPairs()を追加しました

・OpenRTM 1.1.1 対応しました

・COLLADAファイル読み込み時のバグを修正しました

Ver.3.1.6
=========================
・ModelLoaderでcollada形式のモデルファイルを読み込んだ時の慣性行列の変換を修正しました

・ModelLoaderでcollada形式のモデルファイルを読み込んだ時のsegmentsの名前を修正しました

・ModelLoaderでcollada形式のモデルファイルを読み込んだ時のLinkの回転行列を修正しました

Ver.3.1.6
=========================
・ModelLoaderでcollada形式のモデルファイルを読み込んだ時の慣性行列の変換を修正しました

・ModelLoaderでcollada形式のモデルファイルを読み込んだ時のsegmentsの名前を修正しました

・ModelLoaderでcollada形式のモデルファイルを読み込んだ時のLinkの回転行列を修正しました

Ver.3.1.5
=========================
・QNXでコンパイルできるようにしました

・java 1.7に対応しました

・colladaモデルを読みこむ際にthread-safeにしました

・ModelLoader.idlでtlimit を climit に改名しました

・ColladaWriter で書きだされる慣性行列を修正しました

・SampleRobotの慣性行列を修正しました

・normal.normalize()　の前に normal.isZero() を確認するようにしました．

Ver.3.1.4
=========================
・ubuntu12.10に対応いたしました。

・仮想関節が使用できるようになりました。これにより、閉リンク機構のシミュレーションが可能になりました。

・その他、細かな不具合を修正しました。


Ver.3.1.3
=========================
・ubuntu11.10 12.04に対応いたしました。

・ベクトル・行列演算ライブラリはTvmetからEigenに移行しました。

・ModelLoaderがCOLLADA形式のモデルファイルに対応しました。

・球と球、球とメッシュの接触モデルを追加しました。

・その他、細かな不具合を修正しました。


Ver.3.1.2
=========================
・ubuntu11.04に対応いたしました。

・OpenRTMのバージョンアップに伴い、OpenRTM-aist-1.0.2、OpenRTM-aist-1.1.0に対応しました。

・モデル編集機能で、モデルファイルにRengeSensor情報が保存されない不具合を修正しました。

・RengeSensorの表示の不具合を修正しました。

・ModelLoaderにおけるExtrusionノードのパース不具合を修正しました。

・ViewSimulatorサーバに機能を追加しました。

・動画の始点と終点を指定できるようになりました。

・その他、細かな不具合を修正しました。


Ver.3.1.1 (2011/05/09)
=========================
・モデルの位置、姿勢がグラフ表示できるようになりました。

・コリジョン設定画面の不具合を修正しました。

・モデル編集機能に、セグメントノードを追加し、複数のセグメントに対応できるように修正しました。

・既存のモデルを組み合わせて、モデルを作成する機能を追加しました。 

・コントローラブリッジの設定を行うGUIを追加しました。

・その他、細かな不具合を修正しました。


Ver.3.1.0-Release (2010/09/21)
=========================
・ubuntu10.04に公式対応いたしました。

・GrxUI起動時のviewの作成処理を見直しました。

・VRMLパース機能の向上を行いました。

・再生時、fpsに対して処理が間に合わない場合にフレームを間引くように修正しました。

・viewSimulationの更新時刻をカメラのフレームレートと同期させるように修正しました。

・シミュレーション後の再生でもRobotState Viewの内容が更新されるように修正しました。

・サーバマネージャビューに再起動ボタンをつけました。

・ControllerBridgeを複数起動する際に例外が発生することがある不具合を修正しました。

・複数のWorldItemに対応しました。

・OpenHRPViewからSimulationItemを分離して管理項目の見直しを行いました。

・シミュレーション時にVirtualRobotもアクティベート状態になるように修正しました

・速度の初期値を設定できるように変更しました。

・起動時に開くプロジェクトファイルをプリファレンスストアで指定できるようにしました。

・変更した内容が保存・再読み込みされるまで表示の更新を行わないように修正しました。

・ログファイルに絶対パスを保存している問題を修正しました。

・プロジェクトファイルに記載のモデルが見つからなかった場合に代替ファイルの選択ができるように修正しました。

・一時ファイルをTMPFS_DIRで指定された場所に作成するように変更しました。

・プロジェクトファイル内の変数名PROJECT_DIRをCURRENT_DIRに変更しました。

・テーブル表示のフォントを変更できるように修正しました。

・プロパティビューの表示負荷を抑える修正をしました。

・プロパティビューからのコンボオックス入力に対応しました。

・グラフを表示時のデータ読込処理の修正し再生速度の向上をしました。

・グラフ表示の横軸が異常である問題を修正しました。

・グラフビューからグラフの設定をするとグラフアイテムが作成できるように修正しました

・JythonPromptViewの挙動を修正しました。

・Jythonスクリプトの外部での変更時に再読込を行うように変更しました。

・Jythonスクリプトを実行ボタンをツールバーに配置しました。

・Jythonスクリプトからシミュレーションを開始したときのシミュレーション開始ボタン挙動を修正しました。

・テキストエディタにカーソルの座標を表示する用に修正しました。

・OnlineViewerとしての使用した際の動作を修正しました。

・シミュレーションアイテムがないときにOnlineViewerモードで使用できない問題を修正しました。

・RobotState Viewのデザインを修正しました。

・3Dビューの表示の不具合を修正しました。

・3DViewのクリップ面の距離の調整をしました。

・3DViewで視点がプロジェクトファイルに保存されるように修正しました。

・順動力学計算を行わないサンプルを追加しました。

・その他、細かな不具合を修正しました。


Ver.3.1.0.β4 (2010/03/15)
=========================

・OpenRTMのバージョンアップに伴い、
　OpenRTM-aist-1.0.0-Releaseに対応いたしました。

・ubuntu9.10に公式対応いたしました。

・シミュレーション時間の延長が機能しない不具合を解消いたしました。

・新規プロジェクトで前のプロジェクト名が残ってしまう不具合を
　解消いたしました。

・Collision情報の設定が反映されない不具合を解消いたしました。

・GrxUI on Eclipse プラグイン起動時にアサーションが起こるケースがある不具合を
　解消いたしました。

・crossSectionフィールドを定義した平面がspineフィールドで定義した線に対して
　直交する面になっていない不具合を解消いたしました。

・モデルローダーの雑多な不具合を解消いたしました。

・ServerManagerViewの雑多な不具合を解消しました。

・バウンディングボックスのツリーを可視化しました。

・バウンディングボックスを使用した干渉チェックを行えるようにしました。

・プロパティの入力をユーザライクに改善いたしました。

・Eclipse3.4.2(Ganymede)にGrxUIonEclipseプラグインは対応しました。

・GrxUIonEclipseが依存するプラグインが全て入った、Eclipse3.4.2、
　Eclipse3.2パッケージを公開いたしました。

・GrxUIonEclipseプラグインで日本語/英語メッセージを切り替えるようにしました。

・Windows版のバイナリー パッケージ インストーラを公開いたしました。

・Linux版のデビアン バイナリ パッケージを公開いたしました。

・ジョイスティックコンポーネントのEclipseプラグインを作成いたしました。

・pkg-configに対応いたしました。

・ハイゲインモード／トルク制御モードの設定をプロパティビューで
　切り替えるようにいたしました。

・OpenHRPビュー内の各タブをビューに変更いたしました。

・録画画像のフォーマットは無圧縮のRGB形式のみに対応するように変更いたしました。


Ver.3.1.0.β3 (2009/09/14)
=========================

・OpenRTMのバージョンアップに伴い、
　OpenRTM-aist-0.4.2からOpenRTM-aist-1.0.0-rc1に
　依存するようになりました。

・GrxUI on Eclipse のRCP化に対応いたしました。

・ubuntu9.04を公式対応いたしました。

・GraphViewでグラフが表示されない不具合を修正しました。

・JythonPrompt ViewにてJythonスクリプトが正常に実行されない不具合を
　修正しました。

・複数の同じRTCをcontroller bridgeから生成した場合、
　ポート接続が設定通りにできない不具合を修正しました。

・サンプルモデルファイル house.wrl のscale値を修正しました。

・3DViewのEditモードの編集で一部の値が反映されない不具合を修正しました。

・Segmentノードがないモデルも読み込み可能となるように修正しました。

・3DViewの画面上からダイアログを移動した場合、ダイアログの
　クライアントエリアが3DView上で再描画されず残る不具合を修正しました。

・GrxUI on EclipseのPropertyViewでプロパティ名と異なる値が表示される不具合を
　修正しました。

・録画時の視点設定が反映されていない不具合を修正しました。

・GraphViewのちらつきを軽減いたしました。

・CMakeのBOOST_ROOT、Boost_INCLUDE_DIRS、Boost_LIBRARY_DIRS、JAVA3D_LIB_DIR、
　JMFHOMEのデフォルト値を自動的に適切な値になるよう改善いたしました。


Ver.3.1.0.β2 (2009/06/09)
=========================

・PD_HGtestを解説するマニュアルを追加いたしました。

・bin/unix、bin/dosディレクトリの使用を廃止しました。

・LoggerViewでコマ送りできるようになりました。

・LoggerViewで「1/64」倍速で再生・逆再生ができるように修正しました。

・LoggerViewのスライダーの位置が途中にある状態でシミュレーションを開始すると、
　シミュレーション中の描画ができない不具合を修正しました。

・GraphViewで経過時間通りにグラフが表示されない不具合を修正しました。

・GraphViewでグラフが追加・削除ができない不具合を修正しました。

・GraphViewで表示できないフリーの関節を表示選択コンボボックスから
　除外するように修正しました。

・RobotStateViewにてGrxUI起動時に表示される
　一番上のロボット名を選択するリストボックスが、
　プロジェクトロード後に消える不具合を修正しました。

・RobotStateViewにてモデルを非表示にすると各ジョイントの値が表示されない
　不具合を修正しました。

・RobotStateViewにてモデルを複数ロードするとロボットを
　リストから選択できない不具合を修正しました。

・ServerManagerViewを閉じて再開すると例外が発生する不具合を修正しました。

・GrxUIパースペクティブから別のパースペクティブへフォーカスが移っている時、
　3DViewの表示が進まない不具合を修正しました。

・新規に作成したWindows上でGrxUIパースペクティブを開くと
　GrxUIパースペクティブが開始できない不具合を修正しました。

・eclipseで複数ウィンドウ開いている時、
　GrxUIパースペクティブが開いているウィンドウを「×」で閉じないと
　次回のeclipseが起動しなくなる不具合を修正しました。

・GrxUIパースペクティブだけを閉じてさらに再開すると
　NameServerからオブジェクトをrebindができない不具合を修正しました。

・NameServerのライフサイクルがGrxUIと同期している場合、
　ProcessManagerViewを閉じるとサーバが停止する不具合を修正しました。

・PD_HGtestが開始しない不具合を修正しました。

・OpenHRPViewのcontrollerTabView、collisionTabViewにてリスト項目が増えると
　下部インターフェイスが操作できなくなる不具合を修正しました。

・WorldStateのアイテムのプロパティをPropertyViewで変更しても
　内容がOpenHRPViewに反映されない不具合を修正しました。

・WorldStateItemをdeleteするとnot selectedになる不具合を修正しました。

・逆運動力学関連の3DViewのボタンが機能しない不具合を修正しました。

・他のitemにフォーカスが移らない限りitemの名前変更が
　反映されない不具合を修正しました。

・産総研版動力学エンジンを使用した場合、円筒モデルと平面モデルの
　干渉チェック機能を使ったシミュレーションを行うと
　円筒モデルが平面モデルに沈み込む不具合を修正しました。

・ログが保存できない不具合を修正しました。

・Python scriptの保存ができない不具合を修正しました。

・JavaVMのヒープリソースの使用が許す限り、
　ログをヒープメモリーに記録するようにしました。
　処理速度向上を意図した改修です。


Ver.3.1.0.β (2009/03/03)
=========================

・GrxUIをEclipseプラグイン化しました。

・モデルローダをC++で書き直しました。3.0のJavaによるものと比べて
　モデルの読み込み速度が大幅に改善されました。

・GrxUI上でモデルファイル作成を支援する機能を追加しました。

・OpenHRPのmakeファイル、プロジェクトファイル作成ツールとして
　CMakeを導入し、ディレクトリ構造も扱いやすい形態へと見直しました。

・GrxUI上で各CORBAサーバの起動をコントロールできるように
　サーバー管理パネル(Server Manager View)を追加しました。

・Ubuntu8.10に対応いたしました。

・リンクが他の物体と接触しているときにシミュレータ内部における接触点と
　接触力をコントローラブリッジから取得できるようになりました。

・Root以外に fixed ジョイントを持つ機構のシミュレーションも可能にしました。

・シミュレーション再開時新たなVirtualRobotが生成されないようにしました。

・ControllerBridgeの--in-port、--out-portオプションで複数の識別名を
　指定できるようにしました。

・ControllerBridgeで複数のRTCを使えるようにしました。

・サンプルモデルの jointAxis を SfVec3f 形式に対応しました。


Ver.3.0.3 (2008/11/28)
======================

・起動時のモーダレスダイアログがそのまま残ってしまう不具合を修正しました。

・画像出力用のプロパティ(COLOR_IMAGEG、RAYSCALE_IMAGE、DEPTH_IMAGE)が
　使用できるようになりました。

・VRMLファイルでモデルにrotationの初期値を与えた場合、シミュレーション時の
　モデルの動作がおかしくなる不具合を修正しました。

・Ubuntu用のインストーラスクリプトにOpenRTM-aist-0.4.2用インストーラを
　組み込み、不要なパッケージを削除しました。[Linux版]

・Windows用の環境構築インストーラを用意いたしました。[Windows版]

・rtcコントローラのサンプルでdllエクスポートする関数をOpenRTM-aist-0.4.2提供の
　マクロで修飾するように変更いたしました。[Windows版]

・英語版のマニュアルを更新しました。

・Troubleshootingを更新しました。


Ver.3.0.2 (2008/09/19)
======================

・GrxUI上で新規プロジェクトを作成した場合、グラフコンテンツを作成しても Series
　ボタンが有効にならない不具合を修正しました。

・GrxUI終了時にGrxUIから起動したomniNamesが自動的に終了しない不具合を
　修正しました。

・ControllerBridgeでABS_TRANSFORMタイプのInPortが作成できない不具合を
　修正しました。

・ControllerBridgeの入力ポートの指定で識別名が使用できない不具合を
　修正しました。

・NoSimモード（Forward Dynamicsのチェックを外したモード）で、ロボットのベース
　座標の位置・姿勢、全関節の角度を与えてロボットを動かすとベースリンクだけが
　先行して動くような表示がされる不具合を修正しました。

・GrxUI OpenHRPタブウィンドウサイズが狭い場合OK,CANCELボタンが表示されない
　不具合を修正しました。

・SampleControllerを東大サーバ(DynamicsSimulator/server.ut)で実行すると
　シミュレートできない不具合を修正しました。

・ViewSimulatorの画像生成がシミュレーション時間に同期して行われていない
　不具合を修正しました。

・VC++のデバッグモードでDynamicsSimulatorを起動した時エラーが起こる不具合を
　修正しました。[Windows版]

・jythonの配布元がjython.jarのインストール場所を変更したためjython.jarが
　参照できない不具合を修正しました。[Linux版]

・config.sh、config.batでは変更可能なパラメータのみの定義に改めました。

・Java3D,JMFをパッケージに含めて配布するように改めました。

・Java 3Dの1.5系バージョンでは深度バッファの取得に不具合があるので1.4.1の
　使用に変更しました。

・GrxUI用のTempディレクトリを${HOME}/.grxuiに変更しました。[Linux版]

・ControllerBridgeのconfig-fileオプションで読み込む設定ファイルの書式を
　変更しました。

・ControllerBridgeのmoduleオプションで拡張子を省略可能とする機能を
　追加しました。

・シミュレーション時刻を出力する機能を追加しました。

・英語版のマニュアルに対応しました。


Ver.3.0.1 (2008/06/18)
======================

・Ver.3.0.0の行列演算ライブラリ部分の不具合を修正しました。

・Visual C++ 2005 への対応は終了しました。今後は Visual C++ 2008 を
　お使いください。

・Ubuntu 8.04 用のインストールスクリプトとMake.varsを追加しました。

・アーム型ロボットPA10のサンプルを追加しました。
　(モデルデータは三菱重工業（株)からのご提供を受けました。）

・一般配布開始に伴い、ライセンスをEPLに変更しました。
