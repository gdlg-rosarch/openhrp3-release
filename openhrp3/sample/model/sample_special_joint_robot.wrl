#VRML V2.0 utf8
#--------------------------------------------------------------
# OpenHRP Sample Special Joint Robot Model
#--------------------------------------------------------------

PROTO Joint [
  exposedField     SFVec3f      center              0 0 0
  exposedField     MFNode       children            []
  exposedField     MFFloat      llimit              []
  exposedField     MFFloat      lvlimit             []
  exposedField     SFRotation   limitOrientation    0 0 1 0
  exposedField     SFString     name                ""
  exposedField     SFRotation   rotation            0 0 1 0
  exposedField     SFVec3f      scale               1 1 1
  exposedField     SFRotation   scaleOrientation    0 0 1 0
  exposedField     MFFloat      stiffness           [ 0 0 0 ]
  exposedField     SFVec3f      translation         0 0 0
  exposedField     MFFloat      ulimit              []
  exposedField     MFFloat      uvlimit             []
  exposedField     SFString     jointType           ""
  exposedField     SFInt32      jointId             -1
  exposedField     SFVec3f      jointAxis           0 0 1

  exposedField     SFFloat      gearRatio           1
  exposedField     SFFloat      rotorInertia        0
  exposedField     SFFloat      rotorResistor       0
  exposedField     SFFloat      torqueConst         1
  exposedField     SFFloat      encoderPulse        1
]
{
  Transform {
    center           IS center
    children         IS children
    rotation         IS rotation
    scale            IS scale
    scaleOrientation IS scaleOrientation
    translation      IS translation
  }
}

PROTO Segment [
  field           SFVec3f     bboxCenter        0 0 0
  field           SFVec3f     bboxSize          -1 -1 -1
  exposedField    SFVec3f     centerOfMass      0 0 0
  exposedField    MFNode      children          [ ]
  exposedField    SFNode      coord             NULL
  exposedField    MFNode      displacers        [ ]
  exposedField    SFFloat     mass              0 
  exposedField    MFFloat     momentsOfInertia  [ 0 0 0 0 0 0 0 0 0 ]
  exposedField    SFString    name              ""
  eventIn         MFNode      addChildren
  eventIn         MFNode      removeChildren
]
{
  Group {
    addChildren    IS addChildren
    bboxCenter     IS bboxCenter
    bboxSize       IS bboxSize
    children       IS children
    removeChildren IS removeChildren
  }
}

PROTO Humanoid [
  field           SFVec3f    bboxCenter            0 0 0
  field           SFVec3f    bboxSize              -1 -1 -1
  exposedField    SFVec3f    center                0 0 0
  exposedField    MFNode     humanoidBody          [ ]
  exposedField    MFString   info                  [ ]
  exposedField    MFNode     joints                [ ]
  exposedField    SFString   name                  ""
  exposedField    SFRotation rotation              0 0 1 0
  exposedField    SFVec3f    scale                 1 1 1
  exposedField    SFRotation scaleOrientation      0 0 1 0
  exposedField    MFNode     segments              [ ]
  exposedField    MFNode     sites                 [ ]
  exposedField    SFVec3f    translation           0 0 0
  exposedField    SFString   version               "1.1"
  exposedField    MFNode     viewpoints            [ ]
]
{
  Transform {
    bboxCenter       IS bboxCenter
    bboxSize         IS bboxSize
    center           IS center
    rotation         IS rotation
    scale            IS scale
    scaleOrientation IS scaleOrientation
    translation      IS translation
    children [
      Group {
        children IS viewpoints
      }
      Group {
        children IS humanoidBody 
      }
    ]
  }
}

PROTO VisionSensor [
  exposedField SFVec3f    translation       0 0 0
  exposedField SFRotation rotation          0 0 1 0
  exposedField MFNode     children          [ ]
  exposedField SFFloat    fieldOfView       0.785398
  exposedField SFString   name              ""
  exposedField SFFloat    frontClipDistance 0.01
  exposedField SFFloat    backClipDistance  10.0
  exposedField SFString   type              "NONE"
  exposedField SFInt32    sensorId          -1
  exposedField SFInt32    width             320
  exposedField SFInt32    height            240
  exposedField SFFloat    frameRate         30
]
{
  Transform {
    rotation         IS rotation
    translation      IS translation
    children         IS children
  }
}


PROTO ForceSensor [  
  exposedField SFVec3f    maxForce    -1 -1 -1
  exposedField SFVec3f    maxTorque   -1 -1 -1
  exposedField SFVec3f    translation 0 0 0
  exposedField SFRotation rotation    0 0 1 0
  exposedField SFInt32    sensorId    -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO Gyro [
  exposedField SFVec3f    maxAngularVelocity -1 -1 -1
  exposedField SFVec3f    translation        0 0 0
  exposedField SFRotation rotation           0 0 1 0
  exposedField SFInt32    sensorId           -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO AccelerationSensor [
  exposedField SFVec3f    maxAcceleration -1 -1 -1
  exposedField SFVec3f    translation     0 0 0
  exposedField SFRotation rotation        0 0 1 0
  exposedField SFInt32    sensorId        -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO PressureSensor [
  exposedField SFFloat    maxPressure -1
  exposedField SFVec3f    translation 0 0 0
  exposedField SFRotation rotation    0 0 1 0
  exposedField SFInt32    sensorId    -1
]
{
  Transform {
    translation IS translation
    rotation    IS rotation
  }
}

PROTO PhotoInterrupter [
  exposedField SFVec3f transmitter 0 0 0
  exposedField SFVec3f receiver    0 0 0
  exposedField SFInt32 sensorId    -1
]
{
  Transform{
    children [
      Transform{
        translation IS transmitter
      }
      Transform{
        translation IS receiver
      }
    ]
  }
}

PROTO CylinderSensorZ [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 1 0 0 1.5708
    children [
      DEF SensorY CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisY Transform{
        children [
          Transform{
            rotation 1 0 0 -1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorY.rotation_changed TO AxisY.set_rotation
}

PROTO CylinderSensorY [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 0 1 0 1.5708
    children [
      DEF SensorX CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisX Transform{
        children [
          Transform{
            rotation 0 1 0 -1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorX.rotation_changed TO AxisX.set_rotation
}

PROTO CylinderSensorX [
    exposedField    SFFloat    maxAngle       -1
    exposedField    SFFloat    minAngle        0
    exposedField    MFNode     children        [ ]
]
{
  Transform{
    rotation 0 0 1 -1.5708
    children [
      DEF SensorZ CylinderSensor{
        maxAngle IS maxAngle
        minAngle IS minAngle
      }
      DEF AxisZ Transform{
        children [
          Transform{
            rotation 0 0 1 1.5708
            children IS children
          }
        ]
      }
    ]
  }
  ROUTE SensorZ.rotation_changed TO AxisZ.set_rotation
}

NavigationInfo {
  avatarSize    0.5
  headlight     TRUE
  type  ["EXAMINE", "ANY"]
}

Background {
  skyColor 0.4 0.6 0.4
}

Viewpoint {
  position    3 0 0.835
  orientation 0.5770 0.5775 0.5775 2.0935
}

DEF SampleSpecialJointRobot Humanoid {
   name "SampleSpecialJointRobot"
   version "1.0"
   info [
    "This is a sample model of OpenHRP with special joints."
    "You can modify and use this model freely."
    "Version : 1.0"
   ]

   humanoidBody [

    DEF WAIST Joint {
       jointType "free"
       translation 0 0 1.0367
       children [
          DEF gsensor AccelerationSensor {
             sensorId 0
             rotation 0.0 0.707107 0.707107 3.14159
          }
          DEF gyrometer Gyro {
             sensorId 0
             rotation 0.0 0.707107 0.707107 3.14159
          }
          DEF WAIST_LINK0 Segment {
             centerOfMass  0 0 0.0375
             mass    27.0
             momentsOfInertia [ 0.096482 0 0 0 0.096482 0 0 0 0.0288 ]
             children [
                Shape {
                   appearance DEF WAIST_APP Appearance {
                      material Material {
                      }
                   }
                   geometry Box { size 0.08 0.08 0.08 }
                }
                Transform {
                   translation   0 0 0.0955
                   children      Shape {
                      appearance  USE WAIST_APP
                      geometry Box { size 0.05 0.05 0.111 }
                   }
                }
             ]
          }

          DEF WAIST_P Joint {
             translation     0 0 0.176
             jointType "rotate"
             jointAxis 0 1 0
             jointId  20
             rotorInertia 3.0E-4
             gearRatio 200
             lvlimit -40.0
             uvlimit 40.0
             children [
                DEF WAIST_LINK1 Segment {
                   centerOfMass  0 0 0
                   mass    6.0
                   momentsOfInertia [ 0.002187 0 0 0 0.001875 0 0 0 0.002187 ]
                   children [
                      Shape {
                         appearance  DEF WAIST_LINK1_APP Appearance {
                            material  Material {
                               diffuseColor   0.6 1.0 0.6
                            }
                         }
                         geometry Cylinder { radius 0.025 height 0.05 }
                      }
                   ]
                }

                DEF WAIST_R Joint {
                   jointType "rotate"
                   jointAxis 1 0 0
                   jointId  21
                   rotorInertia 3.0E-4
                   gearRatio 200
                   lvlimit -40.0
                   uvlimit 40.0
                   children [
                      DEF WAIST_LINK2 Segment {
                         centerOfMass  0 0 0.16
                         mass    30.0
                         momentsOfInertia [ 0.27 0 0 0 0.27 0 0 0 0.0125 ]
                         children [
                            Transform {
                               rotation 0 0 1 1.5708
                               children Shape {
                                  appearance DEF WAIST_LINK2_APP Appearance {
                                     material      Material {
                                        diffuseColor       0.6 0.8 0.6
                                     }
                                  }
                                  geometry Cylinder { radius 0.025 height 0.05 }
                               }
                            }
                            Transform {
                               translation 0 0 0.1625
                               children  Shape {
                                  appearance USE WAIST_LINK2_APP
                                  geometry Box { size 0.05 0.05 0.275 }
                               }
                            } # Transform
                         ]
                      } # segment WAIST_LINK2

                      DEF FLY_WHEEL_P Joint {
                         jointType "rotate"
                         jointId  22
                         translation 0 0 0.35
                         rotorInertia 3.0E-4
                         gearRatio 200
                         lvlimit -40.0
                         uvlimit 40.0
                         children [
                            DEF FLY_WHEEL_P_LINK Segment {
                               centerOfMass  0 0 0
                               mass    1.5
                               momentsOfInertia [ 0.008 0 0 0 0.008 0 0 0 0.008]
                               children [
                                  Transform {
                                     rotation 1 0 0 0
                                     children Shape {
                                        appearance DEF FLY_WHEEL_P_LINK_APP Appearance {
                                           material      Material {
                                              diffuseColor       0.5 0.5 0.5
                                           }
                                        }
                                        geometry Cylinder { radius 0.1 height 0.05 }
                                     }
                                  }
                               ]
                            } # segment FLY_WHEEL_P_LINK

                         ]
                      } # Joint FLY_WHEEL_P
                   ]
                } # Joint WAIST_R
             ]
          } # Joint WAIST_P

          #==================== Right Leg ====================

          DEF RLEG_HIP_R Joint {
             jointType "rotate"
             jointAxis 1 0 0
             jointId 0
             translation   0 -0.09 0
             rotorInertia 3.0E-4
             gearRatio 200
             lvlimit -40.0
             uvlimit 40.0
             children [
                DEF RLEG_LINK1 Segment {
                   centerOfMass          0 0 0
                   mass                  2.5
                   momentsOfInertia      [ 0.003125 0 0 0 0.003646 0 0 0 0.003646 ]
                   children DEF LEG_SHAPE1 Transform {
                      rotation 0 0 1 1.5708
                      children Shape {
                         appearance Appearance {
                            material Material {
                            }
                         }
                         geometry Cylinder { radius 0.05 height 0.1 }
                      }  
                   }
                }

                DEF RLEG_HIP_P0 Joint {
                   jointType "rotate"
                   jointAxis 0 1 0
                   jointId 1
                   rotorInertia 3.0E-4
                   gearRatio 200
                   lvlimit -40.0
                   uvlimit 40.0
                   children    [
                      DEF RLEG_LINK2 Segment {
                         centerOfMass          0 0 0
                         mass                  2.0
                         momentsOfInertia      [ 0.002917 0 0 0 0.0025 0 0 0 0.002917 ]
                         children DEF LEG_SHAPE2 Shape {
                            appearance Appearance {
                               material Material {
                               }
                            }
                            geometry Cylinder { radius 0.05 height 0.1 }
                         }
                      }

                      DEF RLEG_HIP_P1 Joint {
                         jointType "rotate"
                         jointAxis 0 1 0
                         jointId 2
                         rotorInertia 3.0E-4
                         translation 0 0 -0.1
                         gearRatio 200
                         lvlimit -40.0
                         uvlimit 40.0
                         children    [
                            DEF RLEG_LINK3 Segment {
                               centerOfMass          0 0 0
                               mass                  2.0
                               momentsOfInertia      [ 0.002917 0 0 0 0.0025 0 0 0 0.002917 ]
                               children DEF LEG_SHAPE3 Shape {
                                  appearance Appearance {
                                     material Material {
                                     }
                                  }
                                  geometry Cylinder { radius 0.05 height 0.1 }
                               }
                            }

                            DEF RLEG_HIP_Y Joint {
                               jointType "rotate"
                               jointId 3
                               translation     0 0 -0.3535
                               rotorInertia 3.0E-4
                               gearRatio 200
                               lvlimit -40.0
                               uvlimit 40.0
                               children [
                                  DEF RLEG_LINK4 Segment {
                                     centerOfMass          0 0 0.18
                                     mass                  5.1
                                     momentsOfInertia      [ 0.03156 0 0 0 0.03156 0 0 0 0.0085 ]
                                     children DEF LEG_SHAPE4 Transform {
                                        children [
                                           Transform {
                                              translation 0 0 0.1
                                              rotation 1 0 0 1.5708
                                              children Shape {
                                                 appearance DEF LEG_APP4 Appearance {
                                                    material  Material {
                                                       diffuseColor   0.8 0.9 0.8
                                                    }
                                                 }
                                                 geometry Cylinder { radius 0.05 height 0.1 }
                                              }
                                           }
                                           Transform {
                                              translation 0 0 0.22675
                                              children      Shape {
                                                 appearance USE LEG_APP4
                                                 geometry Box { size 0.1 0.1 0.1535 }
                                              }
                                           }
                                        ]
                                     }
                                  } # Segment RLEG_LINK4

                                  DEF RLEG_KNEE_P0 Joint {
                                     jointType "rotate"
                                     jointAxis 0 1 0
                                     jointId 4
                                     rotorInertia 3.0E-4
                                     gearRatio 200
                                     lvlimit -40.0
                                     uvlimit 40.0
                                     children [
                                        DEF RLEG_LINK5 Segment {
                                           centerOfMass          0 0 0
                                           mass                  7.0
                                           momentsOfInertia      [ 0.05833 0 0 0 0.05833 0 0 0 0.01167 ]
                                           children DEF LEG_SHAPE5 Transform {
                                              children [
                                                 Shape {
                                                    appearance DEF LEG_APP5 Appearance {
                                                       material    Material {
                                                          diffuseColor     0.8 1.0 0.8
                                                       }
                                                    }
                                                    geometry Cylinder { radius 0.05 height 0.1 }
                                                 }
                                                 # Transform {
                                                 #    translation      0 0 -0.15
                                                 #    children        Shape {
                                                 #       appearance USE LEG_APP5
                                                 #       geometry Box { size 0.1 0.1 0.2 }
                                                 #    }
                                                 # }
                                              ]
                                           }
                                        } # Segment RLEG_LINK5

                                        DEF RLEG_KNEE_P1 Joint {
                                           jointType "rotate"
                                           jointAxis 0 1 0
                                           jointId 5
                                           translation 0 0 -0.1
                                           rotorInertia 3.0E-4
                                           gearRatio 200
                                           lvlimit -40.0
                                           uvlimit 40.0
                                           children [
                                              DEF RLEG_LINK6 Segment {
                                                 centerOfMass          0 0 -0.12
                                                 mass                  7.0
                                                 momentsOfInertia      [ 0.05833 0 0 0 0.05833 0 0 0 0.01167 ]
                                                 children DEF LEG_SHAPE6 Transform {
                                                    children [
                                                       Shape {
                                                          appearance DEF LEG_APP6 Appearance {
                                                             material    Material {
                                                                diffuseColor     0.8 1.0 0.8
                                                             }
                                                          }
                                                          geometry Cylinder { radius 0.05 height 0.1 }
                                                       }
                                                       Transform {
                                                          translation      0 0 -0.15
                                                          children        Shape {
                                                             appearance USE LEG_APP6
                                                             geometry Box { size 0.1 0.1 0.2 }
                                                          }
                                                       }
                                                    ]
                                                 }
                                              } # Segment RLEG_LINK6

                                              DEF RLEG_ANKLE_P0 Joint {
                                                 jointType "rotate"
                                                 jointAxis 0 1 0
                                                 jointId 6
                                                 translation       0 0 -0.3
                                                 rotorInertia 3.0E-4
                                                 gearRatio 200
                                                 lvlimit -40.0
                                                 uvlimit 40.0
                                                 children [
                                                    DEF RLEG_LINK7 Segment {
                                                       centerOfMass          0 0 0
                                                       mass                  2.5
                                                       momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                                                       children DEF LEG_SHAPE7 Shape {
                                                          appearance Appearance {
                                                             material Material {
                                                             }
                                                          }
                                                          geometry Cylinder { radius 0.05 height 0.1 }
                                                       }
                                                    } # Segment RLEG_LINK7

                                                    DEF RLEG_ANKLE_P1 Joint {
                                                       jointType "rotate"
                                                       jointAxis 0 1 0
                                                       jointId 7
                                                       translation       0 0 -0.1
                                                       rotorInertia 3.0E-4
                                                       gearRatio 200
                                                       lvlimit -40.0
                                                       uvlimit 40.0
                                                       children [
                                                          DEF RLEG_LINK8 Segment {
                                                             centerOfMass          0 0 0
                                                             mass                  2.5
                                                             momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                                                             children DEF LEG_SHAPE8 Shape {
                                                                appearance Appearance {
                                                                   material Material {
                                                                   }
                                                                }
                                                                geometry Cylinder { radius 0.05 height 0.1 }
                                                             }
                                                          } # Segment RLEG_LINK8

                                                          DEF RLEG_ANKLE_R Joint {
                                                             jointType "rotate"
                                                             jointAxis 1 0 0
                                                             jointId 8
                                                             rotorInertia 3.0E-4
                                                             gearRatio 200
                                                             lvlimit -40.0
                                                             uvlimit 40.0
                                                             children [
                                                                DEF RLEG_LINK9 Segment {
                                                                   centerOfMass          0.005 0 -0.06
                                                                   mass                  1.9
                                                                   momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                                                                   children[
                                                                      DEF rfsensor ForceSensor {
                                                                         translation 0 0 -0.07
                                                                         rotation 1 0 0 0
                                                                         sensorId 0
                                                                      }
                                                                      DEF LEG_SHAPE9 Transform {
                                                                         children [
                                                                            Transform {
                                                                               translation       0.005 0 -0.06
                                                                               children  Shape {
                                                                                  appearance DEF LEG_APP9 Appearance {
                                                                                     material      Material {
                                                                                        diffuseColor 0.0 0.5 0.0
                                                                                     }
                                                                                  }
                                                                                  geometry Box { size 0.15 0.14 0.02 }
                                                                               } # Shape
                                                                            }#Transform
                                                                         ]
                                                                      }
                                                                   ]
                                                                } # Segment RLEG_LINK9

                                                                DEF RLEG_TOE_P Joint {
                                                                   jointType "rotate"
                                                                   jointAxis 0 1 0
                                                                   jointId 9
                                                                   rotorInertia 3.0E-4
                                                                   translation       0.08 0 -0.06
                                                                   gearRatio 200
                                                                   lvlimit -40.0
                                                                   uvlimit 40.0
                                                                   children [
                                                                      DEF RLEG_LINK10 Segment {
                                                                         centerOfMass          0.05 0 0.01
                                                                         mass                  1.0
                                                                         momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                                                                         children[
                                                                            DEF LEG_SHAPE10 Transform {
                                                                               children [
                                                                                  Transform {
                                                                                     translation       0.05 0 0.01
                                                                                     children  Shape {
                                                                                        appearance DEF LEG_APP10 Appearance {
                                                                                           material      Material {
                                                                                              diffuseColor 0.5 0.5 0.5
                                                                                           }
                                                                                        }
                                                                                        geometry Box { size 0.1 0.14 0.04 }
                                                                                     } # Shape
                                                                                  }#Transform
                                                                               ]
                                                                            }
                                                                         ]
                                                                      } # Segment RLEG_LINK10
                                                                   ]
                                                                } # Joint RLEG_TOE_P
                                                             ]
                                                          } # Joint RLEG_ANKLE_R
                                                       ]
                                                    } # Joint RLEG_ANKLE_P1
                                                 ]
                                              } # Joint RLEG_ANKLE_P0
                                           ]
                                        } # Joint RLEG_KNEE_P1
                                     ]
                                  } # Joint RLEG_KNEE_P0
                               ]
                            } # Joint RLEG_HIP_Y
                         ]
                      } # Joint RLEG_HIP_P1
                   ]
                } # Joint RLEG_HIP_P0
             ]
          } # Joint RLEG_HIP_R

          #==================== Left Leg ====================

          DEF LLEG_HIP_R Joint {
             jointType "rotate"
             jointAxis 1 0 0
             jointId 10
             translation   0 0.09 0
             rotorInertia 3.0E-4
             gearRatio 200
             lvlimit -40.0
             uvlimit 40.0
             children [
                DEF LLEG_LINK1 Segment {
                   centerOfMass          0 0 0
                   mass                  2.5
                   momentsOfInertia      [ 0.003125 0 0 0 0.003646 0 0 0 0.003646 ]
                   children [
                      USE LEG_SHAPE1
                   ]
                }

                DEF LLEG_HIP_P0 Joint {
                   jointType "rotate"
                   jointAxis 0 1 0
                   jointId 11
                   rotorInertia 3.0E-4
                   gearRatio 200
                   lvlimit -40.0
                   uvlimit 40.0
                   children    [
                      DEF LLEG_LINK2 Segment {
                         centerOfMass          0 0 0
                         mass                  2.0
                         momentsOfInertia      [ 0.002917 0 0 0 0.0025 0 0 0 0.002917 ]
                         children [
                            USE LEG_SHAPE2
                         ]
                      }

                      DEF LLEG_HIP_P1 Joint {
                         jointType "rotate"
                         jointAxis 0 1 0
                         jointId 12
                         rotorInertia 3.0E-4
                         translation 0 0 -0.1
                         gearRatio 200
                         lvlimit -40.0
                         uvlimit 40.0
                         children    [
                            DEF LLEG_LINK3 Segment {
                               centerOfMass          0 0 0
                               mass                  2.0
                               momentsOfInertia      [ 0.002917 0 0 0 0.0025 0 0 0 0.002917 ]
                               children [
                                  USE LEG_SHAPE3
                               ]
                            }

                            DEF LLEG_HIP_Y Joint {
                               jointType "rotate"
                               jointId 13
                               translation     0 0 -0.3535
                               rotorInertia 3.0E-4
                               gearRatio 200
                               lvlimit -40.0
                               uvlimit 40.0
                               children [
                                  DEF LLEG_LINK4 Segment {
                                     centerOfMass          0 0 0.18
                                     mass                  5.1
                                     momentsOfInertia      [ 0.03156 0 0 0 0.03156 0 0 0 0.0085 ]
                                     children [
                                        USE LEG_SHAPE4
                                     ]
                                  } # Segment LLEG_LINK4

                                  DEF LLEG_KNEE_P0 Joint {
                                     jointType "rotate"
                                     jointAxis 0 1 0
                                     jointId 14
                                     rotorInertia 3.0E-4
                                     gearRatio 200
                                     lvlimit -40.0
                                     uvlimit 40.0
                                     children [
                                        DEF LLEG_LINK5 Segment {
                                           centerOfMass          0 0 0
                                           mass                  7.0
                                           momentsOfInertia      [ 0.05833 0 0 0 0.05833 0 0 0 0.01167 ]
                                           children [
                                              USE LEG_SHAPE5
                                           ]
                                        } # Segment LLEG_LINK5

                                        DEF LLEG_KNEE_P1 Joint {
                                           jointType "rotate"
                                           jointAxis 0 1 0
                                           jointId 15
                                           translation 0 0 -0.1
                                           rotorInertia 3.0E-4
                                           gearRatio 200
                                           lvlimit -40.0
                                           uvlimit 40.0
                                           children [
                                              DEF LLEG_LINK6 Segment {
                                                 centerOfMass          0 0 -0.12
                                                 mass                  7.0
                                                 momentsOfInertia      [ 0.05833 0 0 0 0.05833 0 0 0 0.01167 ]
                                                 children [
                                                    USE LEG_SHAPE6
                                                 ]
                                              } # Segment LLEG_LINK6

                                              DEF LLEG_ANKLE_P0 Joint {
                                                 jointType "rotate"
                                                 jointAxis 0 1 0
                                                 jointId 16
                                                 translation       0 0 -0.3
                                                 rotorInertia 3.0E-4
                                                 gearRatio 200
                                                 lvlimit -40.0
                                                 uvlimit 40.0
                                                 children [
                                                    DEF LLEG_LINK7 Segment {
                                                       centerOfMass          0 0 0
                                                       mass                  2.5
                                                       momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                                                       children [
                                                          USE LEG_SHAPE7
                                                       ]
                                                    } # Segment LLEG_LINK7

                                                    DEF LLEG_ANKLE_P1 Joint {
                                                       jointType "rotate"
                                                       jointAxis 0 1 0
                                                       jointId 17
                                                       translation       0 0 -0.1
                                                       rotorInertia 3.0E-4
                                                       gearRatio 200
                                                       lvlimit -40.0
                                                       uvlimit 40.0
                                                       children [
                                                          DEF LLEG_LINK8 Segment {
                                                             centerOfMass          0 0 0
                                                             mass                  2.5
                                                             momentsOfInertia      [ 0.003646 0 0 0 0.003125 0 0 0 0.003646 ]
                                                             children [
                                                                USE LEG_SHAPE8
                                                             ]
                                                          } # Segment LLEG_LINK8

                                                          DEF LLEG_ANKLE_R Joint {
                                                             jointType "rotate"
                                                             jointAxis 1 0 0
                                                             jointId 18
                                                             rotorInertia 3.0E-4
                                                             gearRatio 200
                                                             lvlimit -40.0
                                                             uvlimit 40.0
                                                             children [
                                                                DEF LLEG_LINK9 Segment {
                                                                   centerOfMass          0.005 0 -0.06
                                                                   mass                  1.9
                                                                   momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                                                                   children[
                                                                      DEF lfsensor ForceSensor {
                                                                         translation 0 0 -0.07
                                                                         rotation 1 0 0 0
                                                                         sensorId 1
                                                                      }
                                                                      USE LEG_SHAPE9
                                                                   ]
                                                                } # Segment LLEG_LINK9

                                                                DEF LLEG_TOE_P Joint {
                                                                   jointType "rotate"
                                                                   jointAxis 0 1 0
                                                                   jointId 19
                                                                   translation       0.08 0 -0.06
                                                                   rotorInertia 3.0E-4
                                                                   gearRatio 200
                                                                   lvlimit -40.0
                                                                   uvlimit 40.0
                                                                   children [
                                                                      DEF LLEG_LINK10 Segment {
                                                                         centerOfMass          0.05 0 0.01
                                                                         mass                  1.0
                                                                         momentsOfInertia      [ 0.005291 0 0 0 0.012084 0 0 0 0.013 ]
                                                                         children[
                                                                            USE LEG_SHAPE10
                                                                         ]
                                                                      } # Segment LLEG_LINK10
                                                                   ]
                                                                } # Joint LLEG_TOE_P
                                                             ]
                                                          } # Joint LLEG_ANKLE_R
                                                       ]
                                                    } # Joint LLEG_ANKLE_P1
                                                 ]
                                              } # Joint LLEG_ANKLE_P0
                                           ]
                                        } # Joint LLEG_KNEE_P1
                                     ]
                                  } # Joint LLEG_KNEE_P0
                               ]
                            } # Joint LLEG_HIP_Y
                         ]
                      } # Joint LLEG_HIP_P1
                   ]
                } # Joint LLEG_HIP_P0
             ]
          } # Joint LLEG_HIP_R

       ]
    } # Joint WAIST
   ]


   # List up all the joints' name you use
   joints [
    USE WAIST,
    USE WAIST_P,
    USE WAIST_R,
    USE FLY_WHEEL_P,

    USE RLEG_HIP_R,
    USE RLEG_HIP_P0,
    USE RLEG_HIP_P1,
    USE RLEG_HIP_Y,
    USE RLEG_KNEE_P0,
    USE RLEG_KNEE_P1,
    USE RLEG_ANKLE_P0,
    USE RLEG_ANKLE_P1,
    USE RLEG_ANKLE_R,
    USE RLEG_TOE_P,

    USE LLEG_HIP_R,
    USE LLEG_HIP_P0,
    USE LLEG_HIP_P1,
    USE LLEG_HIP_Y,
    USE LLEG_KNEE_P0,
    USE LLEG_KNEE_P1,
    USE LLEG_ANKLE_P0,
    USE LLEG_ANKLE_P1,
    USE LLEG_ANKLE_R,
    USE LLEG_TOE_P
   ]

   # List up all the segments' name you use
   segments [
    USE WAIST_LINK0,
    USE WAIST_LINK1,
    USE WAIST_LINK2,
    USE FLY_WHEEL_P_LINK,

    USE RLEG_LINK1,
    USE RLEG_LINK2,
    USE RLEG_LINK3,
    USE RLEG_LINK4,
    USE RLEG_LINK5,
    USE RLEG_LINK6,
    USE RLEG_LINK7,
    USE RLEG_LINK8,
    USE RLEG_LINK9,
    USE RLEG_LINK10,

    USE LLEG_LINK1,
    USE LLEG_LINK2,
    USE LLEG_LINK3,
    USE LLEG_LINK4,
    USE LLEG_LINK5,
    USE LLEG_LINK6,
    USE LLEG_LINK7,
    USE LLEG_LINK8,
    USE LLEG_LINK9,
    USE LLEG_LINK10
   ]
}

