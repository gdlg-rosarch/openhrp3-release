From 2c177bd4dbc25c4b0b95598f9fc6ade5c397f431 Mon Sep 17 00:00:00 2001
From: Kei Okada <kei.okada@gmail.com>
Date: Tue, 10 May 2016 03:25:36 +0900
Subject: [PATCH 4/4] aarch64(ARMv8) is also 64bit machine

---
 hrplib/hrpCollision/Opcode/OPC_AABBTree.h        | 2 +-
 hrplib/hrpCollision/Opcode/OPC_OptimizedTree.cpp | 2 +-
 hrplib/hrpCollision/Opcode/OPC_OptimizedTree.h   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/hrplib/hrpCollision/Opcode/OPC_AABBTree.h b/hrplib/hrpCollision/Opcode/OPC_AABBTree.h
index b657130..c5df60f 100644
--- a/hrplib/hrpCollision/Opcode/OPC_AABBTree.h
+++ b/hrplib/hrpCollision/Opcode/OPC_AABBTree.h
@@ -20,7 +20,7 @@
 #ifndef __OPC_AABBTREE_H__
 #define __OPC_AABBTREE_H__
 
-#ifdef __x86_64
+#if (defined __x86_64) || (defined __aarch64__)
 #define EXWORD uqword
 #else
 #define EXWORD udword
diff --git a/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.cpp b/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.cpp
index 71bf7a5..f2238d0 100644
--- a/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.cpp
+++ b/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.cpp
@@ -557,7 +557,7 @@ bool AABBNoLeafTree::Walk(GenericWalkingCallback callback, void* user_data) cons
 		}																			\
 	}
 
-#ifdef __x86_64
+#if (defined __x86_64) || (defined __aarch64__)
 #define REMAP_DATA(member)											\
 	/* Fix data */													\
 	Data = Nodes[i].member;											\
diff --git a/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.h b/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.h
index 11bf0ab..4805edb 100644
--- a/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.h
+++ b/hrplib/hrpCollision/Opcode/OPC_OptimizedTree.h
@@ -20,7 +20,7 @@
 #ifndef __OPC_OPTIMIZEDTREE_H__
 #define __OPC_OPTIMIZEDTREE_H__
 
-#ifdef __x86_64
+#if (defined __x86_64) || (defined __aarch64__)
 #define EXWORD uqword
 #else
 #define EXWORD udword
-- 
1.9.1

